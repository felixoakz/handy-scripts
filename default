##
# You should look at the following URL's in order to grasp a solid understanding
# of Nginx configuration files in order to fully unleash the power of Nginx.
# https://www.nginx.com/resources/wiki/start/
# https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/
# https://wiki.debian.org/Nginx/DirectoryStructure
##

# Redirect all HTTP traffic to HTTPS
server {
	listen 80;
	server_name f-server.ddns.net; # managed by Certbot

	return 301 https://$host$request_uri;
}


server {
	listen 443 ssl; # managed by Certbot
	server_name f-server.ddns.net; # managed by Certbot

	root /var/www/html;
	index index.html index.htm index.nginx-debian.html;

	location / {
		try_files $uri $uri/ =404;
	}

	ssl_certificate /etc/letsencrypt/live/f-server.ddns.net/fullchain.pem; # managed by Certbot
	ssl_certificate_key /etc/letsencrypt/live/f-server.ddns.net/privkey.pem; # managed by Certbot
	include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
	ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot
}
